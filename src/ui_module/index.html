<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AeyePro - Vision Module</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Window Title Bar -->
    <div class="title-bar">
        <div class="title-left">
            <div class="logo">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path
                        d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"
                        fill="#00d4ff" />
                </svg>
                <span>AeyePro</span>
            </div>
        </div>
        <div class="title-right">
            <button class="title-btn minimize" aria-label="Minimize">─</button>
            <button class="title-btn maximize" aria-label="Maximize">□</button>
            <button class="title-btn close" aria-label="Close">✕</button>
        </div>
    </div>

    <div class="app-container">
        <!-- Part 1: Vision Module (Left + Center) -->
        <div class="vision-module">
            <!-- Left Sidebar - Real-time Health Data -->
            <aside class="sidebar">
                <h3 class="sidebar-title">Real-time Health Data</h3>
                <div class="health-metrics" id="healthMetrics">
                    <!-- Metric cards will be generated by JavaScript -->
                </div>
            </aside>

            <!-- Center Area -->
            <main class="center-area">
                <!-- Camera Preview -->
                <section class="camera-preview">
                    <div class="camera-controls-top">
                        <div class="live-badge">
                            <span class="pulse-dot"></span>
                            <span>LIVE</span>
                        </div>
                    </div>
                    <canvas id="cameraCanvas" width="640" height="480" aria-label="Camera feed"></canvas>
                    
                    <!-- Face Mesh Toggle Button - Bottom Left Corner -->
                    <button class="face-mesh-toggle-btn" id="faceMeshToggle" aria-label="Toggle landmarks" title="Toggle All Landmarks">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <circle cx="8" cy="10" r="1" fill="currentColor"/>
                            <circle cx="16" cy="10" r="1" fill="currentColor"/>
                            <path d="M8 14 Q12 16 16 14"/>
                        </svg>
                        <span>On/Off</span>
                    </button>
                    
                    <div class="camera-controls-bottom">
                        <button class="camera-toggle-btn" id="cameraToggle" aria-label="Toggle camera">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                                <path d="M23 7l-7 5 7 5V7z" fill="currentColor" />
                                <rect x="1" y="5" width="15" height="14" rx="2" stroke="currentColor" stroke-width="2"
                                    fill="none" />
                            </svg>
                            <span>Turn Off</span>
                        </button>
                    </div>
                </section>

                <!-- Settings Panel -->
                <section class="settings-panel">
                    <header class="settings-header">
                        <h3 class="settings-title">Health Monitoring Settings</h3>
                        <button class="restore-btn" id="restoreDefaults" aria-label="Restore default settings">
                            ↻ Restore Defaults
                        </button>
                    </header>

                    <div class="settings-grid-compact" id="settingsGrid">
                        <!-- Settings inputs will be generated by JavaScript -->
                    </div>
                </section>
            </main>
        </div>

        <!-- Part 2: Chatbot Module -->
        <aside class="chatbot-module">
            <header class="chatbot-header">
                <h3>Chatbot</h3>
                <button class="menu-btn" aria-label="Menu">⋮</button>
            </header>
            <div class="chat-window" id="chatWindow" role="log" aria-live="polite">
                <div class="message bot-message">
                    <div class="message-bubble">Hello! How can I help with the vision module today?</div>
                </div>
            </div>
            <div class="chat-input-container">
                <input type="text" class="chat-input" placeholder="Type a message..." aria-label="Chat message input">
                <button class="send-btn" aria-label="Send message">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                        <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" stroke="white" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </button>
            </div>
        </aside>
    </div>

    <!-- Templates -->
    <template id="metricCardTemplate">
        <div class="metric-card">
            <div class="metric-icon" data-icon></div>
            <div class="metric-content">
                <div class="metric-label" data-label></div>
                <div class="metric-value" data-value></div>
            </div>
        </div>
    </template>

    <template id="settingInputTemplate">
        <div class="setting-input-row">
            <div class="setting-label-wrapper">
                <label data-label></label>
                <small class="setting-description" data-description></small>
            </div>
            <div class="input-control">
                <button class="decrement" data-action="decrement" aria-label="Decrease value">−</button>
                <input type="number" class="number-input" data-input>
                <button class="increment" data-action="increment" aria-label="Increase value">+</button>
            </div>
        </div>
    </template>

    <!-- Socket.IO Client Library -->
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>

    <!-- Main Application Script -->
    <script src="script.js"></script>
</body>

</html>